<!DOCTYPE html>
<html>
<head>
    <title>Start Screen</title>
    <link rel="stylesheet" href="S00-styleStartScreen.css">
</head>
<body>
    <div id="centralBlock" class="contenido">
        <h1>Tests de sonificaci√≥n</h1>
        <input type="text" id="userName" placeholder="Ingresa tu nombre">
        <button id="startButton">Start</button>
    </div>

    <script>
        let usersList = localStorage.getItem('usersList');
        if (usersList == null) {
            usersList = [];
        } else {
            usersList = JSON.parse(usersList);
        }

        document.getElementById('startButton').addEventListener('click', function() {
            var userName = document.getElementById('userName').value;
            if(userName.trim() === '') {
                alert('Por favor, ingresa un nombre de usuario.');
                return;
            }

            let userAnswers = null;
            if (usersList != null) {
                for (let val_name of usersList) {
                    if (val_name[0] == userName) {
                        userAnswers = val_name;
                    }
                }
            }
            if ( userAnswers == null ) {
                userAnswers = [userName, [], [], []];
                usersList.push(userAnswers);
                localStorage.setItem('usersList', JSON.stringify(usersList));
            }
            sessionStorage.setItem('userAnswers', JSON.stringify(userAnswers));
            window.location.href = 'H01-testSelection.html';
        });
    </script>
</body>
</html>